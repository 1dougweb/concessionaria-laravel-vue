{"version":3,"file":"useProposalStore-CmLlw8b1.js","sources":["../../app/stores/useProposalStore.ts"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { apiClient } from '@/services/apiClient'\r\n\r\ntype Proposal = {\r\n  id: string\r\n  vehicle_id: string\r\n  status: string\r\n  amount: number\r\n}\r\n\r\ntype ProposalState = {\r\n  items: Proposal[]\r\n  isLoading: boolean\r\n}\r\n\r\nexport const useProposalStore = defineStore('proposals', {\r\n  state: (): ProposalState => ({\r\n    items: [],\r\n    isLoading: false\r\n  }),\r\n  actions: {\r\n    async fetch(params: Record<string, unknown> = {}) {\r\n      this.isLoading = true\r\n      const { data } = await apiClient.get('/proposals', { params })\r\n      this.items = data.data ?? data\r\n      this.isLoading = false\r\n    },\r\n    async submit(proposalId: string) {\r\n      await apiClient.post(`/proposals/${proposalId}/submit`)\r\n      await this.fetch()\r\n    }\r\n  }\r\n})\r\n\r\n"],"names":["useProposalStore","defineStore","params","data","apiClient","proposalId"],"mappings":"+CAeO,MAAMA,EAAmBC,EAAY,YAAa,CACvD,MAAO,KAAsB,CAC3B,MAAO,CAAA,EACP,UAAW,EAAA,GAEb,QAAS,CACP,MAAM,MAAMC,EAAkC,GAAI,CAChD,KAAK,UAAY,GACjB,KAAM,CAAE,KAAAC,GAAS,MAAMC,EAAU,IAAI,aAAc,CAAE,OAAAF,EAAQ,EAC7D,KAAK,MAAQC,EAAK,MAAQA,EAC1B,KAAK,UAAY,EACnB,EACA,MAAM,OAAOE,EAAoB,CAC/B,MAAMD,EAAU,KAAK,cAAcC,CAAU,SAAS,EACtD,MAAM,KAAK,MAAA,CACb,CAAA,CAEJ,CAAC"}